
##### Readback #####

record(sub, "CONV-SIPS-C$(plane)S-$(sector)$(pos)-K2I")
{
    field(DESC, "SIPS-C$(plane)S$-(sector)$(pos) K2I conversion")
    field(SCAN, ".1 second")
    field(INAM, "ps_conversion_init")
    field(SNAM, "ps_conversion_phys2eng_process")
    field(INPA, 2)
    field(INPB, "VA-SIPS-C$(plane)S-$(sector)$(pos)")
    field(INPC, "VA-SIPS-CS-NOISELEVEL")
    field(INPE, "VA-SIPS-C$(plane)S-$(sector)$(pos)")
    field(INPF, 0)
    field(FLNK, "SIPS-C$(plane)S-$(sector)$(pos)-RB")
    field(EGU, "A")
}

record(ai, "SIPS-C$(plane)S-$(sector)$(pos)-RB")
{
    field(DESC, "SIPS-C$(plane)S$-(sector)$(pos) current readback")
    field(PREC, 10)
    field(INP, "CONV-SIPS-C$(plane)S-$(sector)$(pos)-K2I.D")
    field(EGU, "A")
}


##### Setpoint #####

record(event, "EVENT-SIPS-SP-INIT")
{
    field(VAL, 123)
}

record(seq, "SEQ-SIPS-C$(plane)S-$(sector)$(pos)-K2I")
{
    field(SCAN, "Event")
    field(EVNT, 123)
    field(DOL1, "CONV-SIPS-C$(plane)S-$(sector)$(pos)-K2I.G")
    field(LNK1, "SIPS-C$(plane)S-$(sector)$(pos)-SP")
    field(FLNK, "SIPS-C$(plane)S-$(sector)$(pos)-SP")
}

record(ao, "SIPS-C$(plane)S-$(sector)$(pos)-SP")
{
    field(DESC, "SIPS-C$(plane)S$-(sector)$(pos) current setpoint")
    field(PREC, 10)
    field(FLNK, "CONV-SIPS-C$(plane)S-$(sector)$(pos)-I2K")
    field(EGU, "A")
}

record(sub, "CONV-SIPS-C$(plane)S-$(sector)$(pos)-I2K")
{
    field(DESC, "SIPS-C$(plane)S$-(sector)$(pos) I2K conversion")
    field(INAM, "ps_conversion_init")
    field(SNAM, "ps_conversion_eng2phys_process")
    field(INPA, 1)
    field(INPB, "SIPS-C$(plane)S-$(sector)$(pos)-SP.VAL")
    field(INPC, 0)
    field(FLNK, "SEQ-SIPS-C$(plane)S-$(sector)$(pos)-I2K")
    field(EGU, "T*m")
}

record(seq, "SEQ-SIPS-C$(plane)S-$(sector)$(pos)-I2K")
{
    field(DOL1, "CONV-SIPS-C$(plane)S-$(sector)$(pos)-I2K.D")
    field(LNK1, "VA-SIPS-C$(plane)S-$(sector)$(pos)")
}


##### Noise #####

record(ai, "VA-SIPS-CS-NOISELEVEL")
{
    field(DESC, "Noise level for slow corrector current")
    field(INP, 0.001)
    field(EGU, "A")
}
